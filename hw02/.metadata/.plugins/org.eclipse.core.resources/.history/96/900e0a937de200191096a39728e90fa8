package app;

import java.io.InputStream;
import java.util.Scanner;

import editstring.EditString;
import editstring.EditStringInterface;
import stack.ArrayListStack;
import stack.StackOverflowException;

public class EditStringDriver {
	public static void main(String[] args) throws StackOverflowException {
		InputStream stream = System.in;
		Scanner scanner = new Scanner(stream);
		System.out.println("Please provide a string:");
		String words = scanner.nextLine();
		EditStringInterface sentence = new EditString(words);
		String input = "";
		ArrayListStack<String> stack = new ArrayListStack<String>();
		ArrayListStack<String> forwardStack = new ArrayListStack<String>();
		
		String action = "";
		while (!action.equals("X")) {
			System.out.println("Please input action");
			input = scanner.nextLine();
			action = String.valueOf(input);
			stack.push(action);
		}
		System.out.println(stack.toString());
		System.out.println(sentence);
		
		// reverse stack to get correct order
		while (!stack.isEmpty()) {
			forwardStack.push(stack.top());
			stack.pop();
		}
		System.out.println("original stack" + stack.toString());
		System.out.println("forward stack" + forwardStack.toString());

		
		// loop through stack and perform action
		while (!forwardStack.isEmpty()) {
			String command = forwardStack.top();
			switch (command) { 
	        case "U":
	            sentence.toUppercase();
	            forwardStack.pop();
	            break; 
	        case "L":
	            sentence.toLowercase();
	            forwardStack.pop();
	            break; 
	        case "R": 
	        	System.out.println(command);
	        	System.out.println(sentence);
	        	forwardStack.pop();
//	            sentence.reverse();
	            break; 
	        case "C": 
//	            sentence.change(c1, c2);
	            break; 
	        case "Z": 
//	            sentence.undo();
	            break; 
	        case "X": 
	            // finish and print
//	        	if (action.equals("X")) {
//					System.out.println("hey");
//					stack.pop();
//				}
	        	forwardStack.pop();
	            break; 
	        default: 
	            // prompt for letter
	            break; 
	        } 
		}
		System.out.println(sentence);
		System.out.println(forwardStack.toString());
		// then print out final sentence
		scanner.close();
	}
	
}
